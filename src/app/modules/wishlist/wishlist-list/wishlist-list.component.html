<div class="wishlist-container">
    <h1> Wishlist </h1>
    <div class="speed-dial">
      <eco-fab-speed-dial direction="left">
        <eco-fab-speed-dial-trigger>
          <button mat-fab (click)="sendToAddWish()" class="background-tomato" matTooltip="Add a wish" matTooltipPosition="left" [matTooltipShowDelay]="600"><mat-icon>add</mat-icon></button>
        </eco-fab-speed-dial-trigger>
      </eco-fab-speed-dial>
    </div>
    <div class="wishlist__content">
        <!-- <div ng-if="createMode || editMode" class="wishlist__createForm-c" layout="column" layout-align="center center">
            <h2>New Item:</h2>
            <form ng-submit="saveWish()" name="wishForm" ng-model="newWish" class="wishlist__createForm">
                <md-input-container>
                    <label>Title:</label>
                    <input type="text" ng-model="newWish.title" required="string" />
                </md-input-container>
                <md-input-container>
                    <label>Info:</label>
                    <textarea ng-model="newWish.info" rows="1"></textarea>
                </md-input-container>
    
                <input ng-if="!editMode" type="submit" value="Save Wish" class="md-button md-raised md-primary">
                <input ng-if="editMode" type="submit" value="Update Wish" class="md-button md-raised md-primary">
                <md-button type="reset" class="md-raised md-warn">reset</md-button>
                <md-button ng-if="createMode || editMode" ng-click="cancelWish()" class="md-warn">Cancel</md-button>
            </form>
        </div> -->

        <div class="wishView__wishSearchSort" fxLayout="row" fxFlexAlign="space-between center">
            <div fxFlex class="wishView__wishSearch" >
              <mat-form-field class="wishView__wishSearch">
                <input matInput type="search" placeholder="Search Wishes" [(ngModel)]="wishSearch"
                  id="wishSearch" aria-label="Search Wish List" />
                <button *ngIf="wishSearch" matSuffix mat-icon-button aria-label="Clear" (click)="wishSearch=''" matTooltip="clear search" [matTooltipShowDelay]="600">
                  <mat-icon>close</mat-icon>
                </button>
              </mat-form-field>
            </div>
            <div fxFlex>
              <mat-form-field class="wishView__wishSort">
                <mat-select [(ngModel)]="sortSelector" ng-model-options="{trackBy: '$sort.title'}" (ngModelChange)="setSortOrder(sortSelector)" placeholder="Sort by" aria-label="Sort wishes by...">
                  <!-- <mat-option ng-value="sort" n*ngFor="g-repeat="sort in sortOrderArray">{{ sort.title }}</mat-option> -->
                  <mat-option value="alphabetical">alphabetical</mat-option>
                  <mat-option value="date">date</mat-option>
                </mat-select>
              </mat-form-field>
            </div>
            <div fxFlex>
                <mat-slide-toggle [(ngModel)]="sortReverse" id="sortReverseBox" class="wishView__reverseSwitch" aria-label="Reverse Results">Reverse</mat-slide-toggle>
            </div>    
        </div>
        <div class="wishlist__itemList">
          <mat-accordion class="wishAccordionList" multi="true">
            <app-spinner *ngIf="inProgressFlag"></app-spinner>
            <mat-expansion-panel *ngFor="let wish of wishlist$ | async">
              <mat-expansion-panel-header>
                <mat-panel-title>
                  <span >{{ wish.title }}</span>
                </mat-panel-title>
                <mat-panel-description>
                  <span class="wish__date">{{ wish.dateAdded | date:'shortDate' }}</span>
                </mat-panel-description>
              </mat-expansion-panel-header>
              <div class="wish__description">
                {{ wish.info }}
              </div>
              <mat-action-row>
                <button mat-button (click)="editWish(wish)" class="md-icon-button md-secondary" aria-label="edit wishlist item">
                  <mat-icon matTooltip="Edit" [matTooltipShowDelay]="600">mode_edit</mat-icon>
                </button>
                <button mat-button (click)="showConfirm($event, wish)" class="md-icon-button deleteBtn" aria-label="delete wishlist item">
                  <mat-icon matTooltip="Delete" [matTooltipShowDelay]="600">delete</mat-icon>
                </button>
              </mat-action-row>
            </mat-expansion-panel>
          </mat-accordion>
        </div>
    </div>
</div>